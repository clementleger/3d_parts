
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

			
			    /// Global parameters
grid = false ;   //Use grid for multi elements cutters
full= false ;  //For build full or empty objects (see instuctables for details)
borderThick = 1.20000004768  ;    //border thickness (mm)
h=   12.0  ;    //total height of the cookie cutter (mm)
borderType=  1   ;    //type of border, 0 none, 1-classic, 2-cone
Lreb = 3.0;     //Width of border (en mm)
Hreb = 1.20000004768 ;    //Thickness of border (mm)




                /// Grid parameters
gridX=300;      //Maximum X dimension Change only if you build cookies bigger than 30cm
gridY=300;      //Maximum Y dimension Change only if you build cookies bigger than 30cm
meshSolid=1.20000004768;    //width of solid part of grid
meshSpace=8.0;    //width of blank part of grid 
gridThickness=Hreb; //thickness of grid
moveGridX=0;    //X shift for adujustments
moveGridY=0;    //Y shift for adjustments
rotateGridZ=45.0;  //Z rotation for adjtments
$fn = 0.1;



module poly_path3023(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-66.395981,-20.554360],[-103.511975,-14.916202],[-105.152679,-14.014097],[-105.798248,-10.856728],[-105.412035,-10.354932],[-104.935610,-10.715774],[-104.552215,-10.213978],[-104.075791,-10.574820],[-103.689577,-10.073024],[-103.213153,-10.433866],[-102.826939,-9.932070],[-102.350515,-10.292913],[-101.964301,-9.791116],[-101.487877,-10.151959],[-101.104482,-9.650163],[-100.628058,-10.011005],[-100.241844,-9.509209],[-99.765419,-9.870051],[-99.379206,-9.368255],[-98.902781,-9.729097],[-98.519386,-9.227301],[-98.042962,-9.588143],[-97.656748,-9.086347],[-97.180324,-9.447189],[-96.794110,-8.945393],[-96.317686,-9.306235],[-95.931472,-8.804439],[-95.455048,-9.165281],[-95.071653,-8.663485],[-94.595228,-9.024327],[-94.209015,-8.522531],[-93.732590,-8.883373],[-93.346376,-8.381577],[-92.869952,-8.742419],[-92.486557,-8.240623],[-92.010133,-8.601465],[-90.527297,-9.954623],[-89.430676,-9.117357],[-88.562399,-10.278817],[-88.252130,-10.456201],[-87.851992,-10.278817],[-86.823028,-9.568409],[-86.112620,-10.309827],[-85.588286,-10.606764],[-85.049827,-10.340837],[-84.018044,-9.311873],[-82.955251,-10.180149],[-82.566292,-10.288632],[-82.312501,-10.019462],[-81.537255,-8.666304],[-80.508291,-9.117357],[-80.076277,-9.168258],[-79.797883,-8.860820],[-79.155133,-7.442824],[-77.993672,-8.150412],[-77.071766,-7.039695],[-76.350149,-5.928978],[-60.955527,-3.129335],[-59.544962,-6.917888],[-57.282611,-10.041171],[-54.230864,-12.354872],[-52.428464,-13.163032],[-50.452111,-13.714679],[-50.704988,-15.787297]]);
    linear_extrude(height=h)
      polygon([[-34.815346,5.010734],[-36.415653,8.084142],[-38.602221,10.561117],[-41.360155,12.389852],[-44.674557,13.518535],[-43.992761,15.465012],[-24.400162,19.017052],[-14.524928,11.115173],[-19.088409,9.911438],[-23.529726,8.482423],[-34.815346,5.010734]]);
  }
}

module poly_path3036(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-24.006898,8.261157],[-26.344814,15.198970],[-28.313849,22.681504],[-28.558092,23.808098],[-28.442721,24.550151],[-24.383247,25.581128],[-23.093761,25.932344],[-21.507383,26.706336],[-20.822812,27.336599],[-20.327960,28.174228],[-20.110808,29.253112],[-20.259337,30.607143],[-21.805803,37.050750],[-22.285053,39.277589],[-22.180764,40.166077],[-21.676931,40.788046],[-18.906180,42.012329],[-18.158663,42.102164],[-17.568377,41.897653],[-16.715352,41.078009],[-14.137908,38.339470],[-11.903414,36.784764],[-9.498510,35.504286],[-7.597133,34.743868],[-5.814193,34.388223],[-4.101419,34.413410],[-2.410540,34.795489],[5.160687,37.576265],[12.408230,40.627242],[20.258694,43.871304],[29.638687,47.231333],[38.463827,49.440225],[49.777628,51.149762],[57.152374,51.662762],[65.414955,51.793386],[87.048315,51.240893],[90.972574,51.365935],[95.796454,51.787650],[99.255940,51.618465],[101.691027,50.538390],[103.456987,48.852739],[104.909088,46.866828],[105.357075,44.737897],[105.455845,42.128249],[105.798248,38.847698],[105.602340,37.707189],[104.987361,36.718824],[102.954869,35.189147],[100.610139,34.239904],[98.862538,33.852333],[85.916790,34.021985],[76.186086,34.194045],[67.182766,34.109128],[54.633950,33.602195],[48.312978,32.931587],[42.123003,31.648716],[27.954972,27.219765],[14.876213,22.080444],[6.369143,18.369394],[-7.905386,12.421047],[-10.346051,11.371167],[-12.978059,10.631954],[-14.297659,10.631881],[-22.508391,8.115324],[-23.602097,7.994447],[-24.006898,8.261157]]);
  }
}

module poly_path3043(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-24.006898,-8.261157],[-26.344814,-15.198970],[-28.313849,-22.681504],[-28.558092,-23.808098],[-28.442721,-24.550151],[-24.383247,-25.581128],[-23.093761,-25.932344],[-21.507383,-26.706336],[-20.822812,-27.336599],[-20.327960,-28.174228],[-20.110808,-29.253112],[-20.259337,-30.607143],[-21.805803,-37.050750],[-22.285053,-39.277589],[-22.180764,-40.166077],[-21.676931,-40.788046],[-18.906180,-42.012329],[-18.158663,-42.102164],[-17.568377,-41.897653],[-16.715352,-41.078009],[-14.137908,-38.339470],[-11.903414,-36.784764],[-9.498510,-35.504286],[-7.597133,-34.743868],[-5.814193,-34.388223],[-4.101419,-34.413410],[-2.410540,-34.795489],[5.160687,-37.576265],[12.408230,-40.627242],[20.258694,-43.871304],[29.638687,-47.231333],[38.463827,-49.440225],[49.777628,-51.149762],[57.152374,-51.662762],[65.414955,-51.793386],[87.048315,-51.240893],[90.972574,-51.365935],[95.796454,-51.787650],[99.255940,-51.618465],[101.691027,-50.538390],[103.456987,-48.852739],[104.909088,-46.866828],[105.357075,-44.737897],[105.455845,-42.128249],[105.798248,-38.847698],[105.602340,-37.707189],[104.987361,-36.718824],[102.954869,-35.189147],[100.610139,-34.239904],[98.862538,-33.852333],[85.916790,-34.021985],[76.186086,-34.194045],[67.182766,-34.109128],[54.633950,-33.602195],[48.312978,-32.931587],[42.123003,-31.648716],[27.954972,-27.219765],[14.876213,-22.080444],[6.369143,-18.369394],[-7.905386,-12.421047],[-10.346051,-11.371167],[-12.978059,-10.631954],[-14.297659,-10.631881],[-22.508391,-8.115324],[-23.602097,-7.994447],[-24.006898,-8.261157]]);
  }
}

module poly_path3011(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-24.400162,-19.017962],[-43.992761,-15.463103],[-44.796198,-13.757561],[-47.643468,-14.047926],[-50.474459,-13.762522],[-53.111283,-12.943975],[-55.497444,-11.648780],[-57.576446,-9.933433],[-59.291792,-7.854432],[-60.586987,-5.468271],[-61.405535,-2.831446],[-61.690938,-0.000455],[-61.310363,3.266857],[-76.350149,5.928068],[-77.071766,7.040195],[-77.993672,8.152321],[-79.155133,7.441913],[-79.797883,8.859910],[-80.076277,9.167348],[-80.508291,9.116446],[-81.537255,8.665394],[-82.312501,10.018552],[-82.566292,10.289131],[-82.955251,10.182058],[-84.018044,9.310963],[-85.049827,10.342746],[-85.588286,10.607263],[-86.112620,10.308917],[-86.823028,9.567499],[-87.851992,10.277907],[-88.252130,10.455291],[-88.562399,10.277907],[-89.430676,9.116446],[-90.527297,9.956532],[-92.010133,8.603374],[-92.486557,8.239713],[-92.869952,8.744328],[-93.346376,8.380667],[-93.732590,8.885282],[-94.209015,8.521621],[-94.595228,9.026236],[-95.071653,8.662575],[-95.455048,9.167190],[-95.931472,8.803529],[-96.317686,9.308144],[-96.794110,8.944483],[-97.180324,9.449098],[-97.656748,9.085436],[-98.042962,9.590052],[-98.519386,9.226390],[-98.902781,9.731006],[-99.379206,9.367344],[-99.765419,9.871960],[-100.241844,9.508298],[-100.628058,10.012913],[-101.104482,9.649252],[-101.487877,10.153867],[-101.964301,9.790206],[-102.350515,10.294821],[-102.826939,9.931160],[-103.213153,10.435775],[-103.689577,10.072114],[-104.075791,10.576729],[-104.552215,10.213068],[-104.935610,10.717683],[-105.412035,10.354022],[-105.798248,10.858637],[-105.152679,14.016006],[-103.511975,14.918111],[-66.395981,20.556269],[-50.704988,15.786387],[-50.479461,13.762289],[-47.643468,14.047016],[-44.812598,13.761612],[-42.176093,12.943064],[-39.790383,11.647869],[-37.711899,9.932523],[-35.997070,7.853521],[-34.702327,5.467360],[-33.884099,2.830536],[-33.598816,-0.000455],[-34.145718,-3.890784],[-34.111889,-5.218570],[-14.524928,-11.116084]]);
  }
}


module shape(h){ poly_path3023(h);
poly_path3036(h);
poly_path3043(h);
poly_path3011(h);

}

//-------------------------------------------------

/// Module grid have been imported from the Openscad grid creator by Glyn
/// Orininaly published on http://www.thingiverse.com/thing:29211
/// Under the terms of Creative Commons By-Sa (08.26.2012)

module grid(meshSolid, meshSpace, gridThickness, gridX, gridY){

meshX=gridX;
meshY=gridY;
nX=meshX/(meshSolid+meshSpace);
nY=meshY/(meshSolid+meshSpace);

for (i=[0:nX]) {
	 	 translate([-(meshX/2)+i*(meshSolid+meshSpace),-meshY/2,-gridThickness/2]) cube(size=[meshSolid,meshY,gridThickness],center=false);
}

for (i=[0:nY]) {
	 	translate([-meshX/2,-(meshY/2)+i*(meshSolid+meshSpace),-gridThickness/2]) cube(size=[meshX,meshSolid,gridThickness],center=false);
    }
}


module rebords(borderType,borderThick,Lreb,Hreb){
if (borderType==0){}
if (borderType==1){
    cylinder(h = Hreb, r=(borderThick+Lreb));} 
if (borderType==2) {
    cylinder(h = Hreb, r1=(borderThick+Lreb),r2=(borderThick));}
}


module borders(h){
cylinder(r=borderThick,h=h);
}



module fullVolume (borderType,borderThick,Lreb,Hreb,h) {
minkowski(){
    shape(0.001);
    union(){
       borders(h);
       rebords(borderType,borderThick,Lreb,Hreb);
    }}}


module finalShape(){
if (full == false){
    difference(){
      fullVolume(borderType,borderThick,Lreb,Hreb,h);
      translate([0,0,(-0.5*h)]) shape(3*h);
}}
else{
          fullVolume(borderType,borderThick,Lreb,Hreb,h);
}
}


if (grid==true){
union (){
  finalShape();
  intersection() {
   translate([moveGridX,moveGridY,(0.5*gridThickness)]) rotate([0,0,rotateGridZ]) grid(meshSolid, meshSpace, gridThickness, gridX, gridY);
    shape();
}}
}
else{
    finalShape();
}

// Enjoy your cookies ! :)

